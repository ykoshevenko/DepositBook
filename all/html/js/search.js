var CLASS5 = [
    {
       "query": "Царевна-Лягушка",
       "athor": "-",
       "pages": "3-4 листа А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/1.jpg",
   },

   {
       "query": "Журавль и цапля",
       "athor": "-",
       "pages": "2-3 листа А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/2.jpg"
   },

   {
       "query": "Солдатская шинель",
       "athor": "-",
       "pages": "4-6 листа А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/3.jpg"
   },

   {
       "query": "Иван - крестьянский сын и чудо - юдо",
       "athor": "-",
       "pages": "3-5 листа А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/4.jpg"
   },

   {
       "query": "Няне",
       "athor": "А.С. Пушкин",
       "pages": ">1 листа А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/5.jpg"
   },

   {
       "query": "Cказка о мертвой царевне и о семи богатырях",
       "athor": "А.С. Пушкин",
       "pages": "8-10 листов А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/6.jpg"
   },

   {
       "query": "Спящая царевна",
       "athor": "В.А. Жуковский",
       "pages": "10-12 листов А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/7.jpg"
   },

   {
       "query": "Кубок",
       "athor": "В.А. Жуковский",
       "pages": "3-4 листа А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/8.jpg"
   },

   {
       "query": "Чёрная курица, или Подземные жители",
       "athor": "Антоний Погорельский",
       "pages": "3-4 листа А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/9.jpg"
   },

   {
       "query": "Заколдованное место",
       "athor": "Н.В. Гоголь",
       "pages": "67-88 листа А4",
       "age": "6+",
       "classn": "5 класс",
       "images": "js/images/10.jpg"
   },

   {
       "query": "Муму",
       "athor": "И.С. Тургенев",
       "pages": "12-14 листов А4",
       "age": "6+",
       "classn": "5 класс",
       "images": "js/images/11.jpg"
   },

   {
       "query": "Бородино",
       "athor": "М.Ю. Лермонтов",
       "pages": "5-16 листов А4",
       "age": "6+",
       "classn": "5 класс",
       "images": "js/images/12.jpg"
   },

   {
       "query": "Кавказкий пленник",
       "athor": "Л.Н. Толстой",
       "pages": "15-25 листов А4",
       "age": "12+",
       "classn": "5 класс",
       "images": "js/images/13.jpg"
   },

   {
       "query": "Хирургия",
       "athor": "А.П. Чехов",
       "pages": "3-4 листов А4",
       "age": "6+",
       "classn": "5 класс",
       "images": "js/images/14.jpg"
   },

   {
       "query": "Двенадцать месяцев",
       "athor": "С.Я. Маршак",
       "pages": "2-3 листов А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/15.jpg"
   },

   {
       "query": "Робинзон Крузо",
       "athor": "Д. Дефо",
       "pages": "10-12 листов А4",
       "age": "6+",
       "classn": "5 класс",
       "images": "js/images/16.jpg"
   },

   {
       "query": "Снежная королева",
       "athor": "Х.К. Андерсен",
       "pages": "13-15 листов А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/17.jpg"
   },

   {
       "query": "О чем говорят цветы",
       "athor": "Ж. Санд",
       "pages": "1-2 листа А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/18.jpg"
   },

   {
       "query": "Приключения Тома Сойера",
       "athor": "М. Твен",
       "pages": "6-8 листов А4",
       "age": "3+",
       "classn": "5 класс",
       "images": "js/images/19.jpg"
   },

   {
        "query": "Повести Белкина",
        "athor": "А.С. Пушкин",
        "pages": "суммарно 33-40 листов А4",
        "age": "12+",
        "classn": "6 класс",
        "images": "js/images/20.jpg"
   },

   {
        "query": "Дубровский",
        "athor": "А.С. Пушкин",
        "pages": "100-130 листов А4",
        "age": "12+",
        "classn": "6 класс",
        "images": "js/images/21.jpg"
    },

    {
        "query": "Левша",
        "athor": "Н.С. Лесков",
        "pages": "13-15 листов А4",
        "age": "12+",
        "classn": "6 класс",
        "images": "js/images/22.jpg"
    },

    {
        "query": "Толстый и тонкий",
        "athor": "А.П. Чехов",
        "pages": "4-7 листов А4",
        "age": "12+",
        "classn": "6 класс",
        "images": "js/images/23.jpg"
    },

    {
        "query": "Неизвестный цветок",
        "athor": "А.П. Платонов",
        "pages": "3-5 листа А4",
        "age": "6+",
        "classn": "6 класс",
        "images": "js/images/24.jpg"
    },

    {
        "query": "Алые паруса",
        "athor": "А.С. Грин",
        "pages": "10-15 листов А4",
        "age": "12+",
        "classn": "6 класс",
        "images": "js/images/25.jpg"
    },

    {
        "query": "Конь с розовой гривой",
        "athor": "В.П. Астафьев",
        "pages": "2-3 листа А4",
        "age": "12+",
        "classn": "6 класс",
        "images": "js/images/26.jpg"
    },

    {
        "query": "Уроки французкого",
        "athor": "В.Г. Распутин",
        "pages": "20-24 листа А4",
        "age": "12+",
        "classn": "6 класс",
        "images": "js/images/27.jpg"
    },

    {
        "query": "Тринадцатый подвиг Геракла",
        "athor": "Ф. Искандер",
        "pages": "10-15 листов А4",
        "age": "6+",
        "classn": "6 класс",
        "images": "js/images/28.jpg"
    },

    {
        "query": "Критики",
        "athor": "В.М. Шукшин",
        "pages": "10-15 листов А4",
        "age": "12+",
        "classn": "6 класс",
        "images": "js/images/29.jpg"
    },

    {
        "query": "Маттео Фальконе",
        "athor": "Проспер Мериме",
        "pages": "10-20 листов А4",
        "age": "12+",
        "classn": "6 класс",
        "images": "js/images/30.jpg"
    },

    {
        "query": "Маленький принц",
        "athor": "Антуан де Сент-Экзюпери",
        "pages": "50-60 листов А4",
        "age": "6+",
        "classn": "6 класс",
        "images": "js/images/31.jpg"
    },

    {
        "query": "Борис Годунов",
        "athor": "А.С. Пушкин",
        "pages": "30-40 листов А4",
        "age": "12+",
        "classn": "7 класс",
        "images": "js/images/32.jpg"
    },

    {
        "query": "Тарас Бульба",
        "athor": "Н.В. Гоголь",
        "pages": "20-30 листов А4",
        "age": "16+",
        "classn": "7 класс",
        "images": "js/images/33.jpg"
    },

    {
        "query": "Русские женщины",
        "athor": "Н.А. Некрасов",
        "pages": "20-30 листов А4",
        "age": "12+",
        "classn": "7 класс",
        "images": "js/images/34.jpg"
    },

    {
        "query": "Детство",
        "athor": "Л.Н. Толстой",
        "pages": "суммарно 210-270 листов А4",
        "age": "12+",
        "classn": "7 класс",
        "images": "js/images/35.jpg"
    },

    {
        "query": "Хамелеон",
        "athor": "А.П. Чехов",
        "pages": "5-7 листов А4",
        "age": "12+",
        "classn": "7 класс",
        "images": "js/images/36.jpg"
    },

    {
        "query": "Цифры",
        "athor": "И.А. Бунин",
        "pages": "3-4 листов А4",
        "age": "6+",
        "classn": "7 класс",
        "images": "js/images/37.jpg"
    },

    {
        "query": "Кусака",
        "athor": "Л. Андреев",
        "pages": "10-15 листов А4",
        "age": "6+",
        "classn": "7 класс",
        "images": "js/images/38.jpg"
    },

    {
        "query": "Юшка",
        "athor": "А. Платонов",
        "pages": "2-3 листа А4",
        "age": "12+",
        "classn": "7 класс",
        "images": "js/images/39.jpg"
    },

    {
        "query": "О чем плачут лошади",
        "athor": "Ф. Абрамов",
        "pages": "5-7 листов А4",
        "age": "12+",
        "classn": "7 класс",
        "images": "js/images/40.jpg"
    },

    {
        "query": "Тихое утро",
        "athor": "Ю. Казаков",
        "pages": "1-2 листов А4",
        "age": "12+",
        "classn": "7 класс",
        "images": "js/images/41.jpg"
    },

    {
        "query": "Каникулы",
        "athor": "Брэдбери",
        "pages": "4-6 листов А4",
        "age": "12+",
        "classn": "7 класс",
        "images": "js/images/42.jpg"
    },

    {
        "query": "Дары волхвов",
        "athor": "О. Генри",
        "pages": "1-2 листов А4",
        "age": "12+",
        "classn": "7 класс",
        "images": "js/images/43.jpg"
    },

    {
        "query": "Недоросль",
        "athor": "Д.И. Фонвизин",
        "pages": "16-18 листов А4",
        "age": "12+",
        "classn": "8 класс",
        "images": "js/images/44.jpg"
    },

    {
        "query": "Капитанская дочка",
        "athor": "А.С. Пушкин",
        "pages": "80-90 листов А4",
        "age": "12+",
        "classn": "8 класс",
        "images": "js/images/45.jpg"
    },

    {
        "query": "Мцыри",
        "athor": "М.Ю Лермонтов",
        "pages": "8-9 листов А4",
        "age": "12+",
        "classn": "8 класс",
        "images": "js/images/46.jpg"
    },

    {
        "query": "Ревезор",
        "athor": "Н.В. Гоголь",
        "pages": "45-50 листов А4",
        "age": "16+",
        "classn": "8 класс",
        "images": "js/images/47.jpg"
    },

    {
        "query": "Ася",
        "athor": "И.С. Тургенев",
        "pages": "40-45 листов А4",
        "age": "12+",
        "classn": "8 класс",
        "images": "js/images/48.jpg"
    },

    {
        "query": "Старый гений",
        "athor": "Н.С. Лесков",
        "pages": "16-18 листов А4",
        "age": "16+",
        "classn": "8 класс",
        "images": "js/images/49.jpg"
    },

    {
        "query": "После бала",
        "athor": "Л.Н. Толстой",
        "pages": "10-20 листов А4",
        "age": "12+",
        "classn": "8 класс",
        "images": "js/images/50.jpg"
    },

    {
        "query": "О любви",
        "athor": "А.П. Чехов",
        "pages": "10-12 листов А4",
        "age": "12+",
        "classn": "8 класс",
        "images": "js/images/51.jpg"
    },

    {
        "query": "Куст сирени",
        "athor": "А.И. Куприн",
        "pages": "14-16 листов А4",
        "age": "12+",
        "classn": "8 класс",
        "images": "js/images/52.jpg"
    },

    {
        "query": "Как я стал писателеми",
        "athor": "И.С. Шмелев",
        "pages": "11-13 листов А4",
        "age": "16+",
        "classn": "8 класс",
        "images": "js/images/53.jpg"
    },

    {
        "query": "История болезни",
        "athor": "М. Зощенко",
        "pages": "9-10 листов А4",
        "age": "18+",
        "classn": "8 класс",
        "images": "js/images/54.jpg"
    },

    {
        "query": "Возвращение",
        "athor": "А.П. Платонов",
        "pages": "4-5 листов А4",
        "age": "12+",
        "classn": "8 класс",
        "images": "js/images/55.jpg"
    },

    {
        "query": "Фотография, на которой меня нет",
        "athor": "В.П. Астафьев",
        "pages": "10-20 листов А4",
        "age": "12+",
        "classn": "8 класс",
        "images": "js/images/56.jpg"
    },

    {
        "query": "Ромео и Джульетта",
        "athor": "У. Шекспир",
        "pages": "67-75 листов А4",
        "age": "18+",
        "classn": "8 класс",
        "images": "js/images/57.jpg"
    },

    {
        "query": "Путешествия Гулливера",
        "athor": "Д.Свифт",
        "pages": "333-375 листов А4",
        "age": "16+",
        "classn": "8 класс",
        "images": "js/images/58.jpg"
    }
]

// get DOM elements
const searchInput = document.getElementById('searchInput');
const resultsContainer = document.getElementById('resultsContainer');

// search from array
function searchBooks(query) {
    return CLASS5.filter(book => {
        return book.query.toLowerCase().includes(query.toLowerCase())
            || book.athor.toLowerCase().includes(query.toLowerCase())
            || book.pages.toLowerCase().includes(query.toLowerCase())
            || book.age.toLowerCase().includes(query.toLowerCase())
            || book.classn.toLowerCase().includes(query.toLowerCase());
    });
}

// print
function displayResults(results) {
    resultsContainer.innerHTML = '';

    if (results.length === 0) {
        resultsContainer.innerHTML = '<p>Ничего не найдено...</p>';
        return;
    }

    results.forEach(book => {
        const bookCard = document.createElement('div');
        bookCard.innerHTML = `
                <li class="book-element">    
                    <img class="book-element__image" src="${book.images}">
                    <span class="book-element__name">${book.query}</span>

                    <details class="book-element__all"><summary>Подробнее</summary>
                        <option>${book.athor}</option>
                        <option>${book.pages}</option>
                        <option>${book.age}</option>
                        <option>${book.classn}</option>
                    </details>
                </li>
        `;
        resultsContainer.appendChild(bookCard);
    });
}

// handler
searchInput.addEventListener('input', (event) => {
    const query = event.target.value;
    const results = searchBooks(query);
    displayResults(results);
});

